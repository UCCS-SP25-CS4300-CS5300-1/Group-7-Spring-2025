{% extends "base-sidebar.html" %}

{% block title %}
  AIS - Create AI Interview
{% endblock %}

{% block content %}
  <div class="centered-container flex-grow-1 d-flex flex-column justify-content-center p-2">
    <h3 class="whiteTextOverride px-3 pt-3 text-center">Create an AI Interview</h3>
    <hr class="white-break">
    <div id="content-scroll" class="d-flex flex-column overflow-y-auto overflow-x-hidden pe-0">
      <form method="post" action="{% url "chat-create" %}" id="chat-create-form">
        {% csrf_token %}
        <table class="table borderless">
          <tbody>
            <tr>
              <td class="text-start align-middle"><h5 class="text-white">Title*:</h5></td>
              <td class="text-end">{{ form.title }}</td>
            </tr>
            <tr>
              <td class="text-start align-middle"><h5 class="text-white">Type*:</h5></td>
              <td class="text-end">{{ form.type }}</td>
            </tr>
            <tr>
              <td class="text-start align-middle"><h5 class="text-white">Difficulty*:</h5></td>
              <td class="text-end">{{ form.difficulty }}</td>
            </tr>
            <tr>
              <td class="text-start align-middle"><h5 class="text-white">Job Listing*:</h5></td>
              <td class="text-end">{{ form.listing_choice }}</td>
            </tr>
            <tr>
              <td class="text-start align-middle"><h5 class="text-white">Resume:</h5></td>
              <td class="text-end">{{ form.resume_choice }}</td>
            </tr>
          </tbody>
        </table>
        <div class="create-button-or-spinner d-flex justify-content-center">
          <button class="btn btn-primary mx-2" name="create" type="submit" id="create-form-button">Create</button>
          <div class="spinner-border text-light" role="status" style="display: none;" id="create-form-spinner">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    // When the form is submitted, hide the button and show the spinner.
    document.getElementById('chat-create-form').addEventListener('submit', function(e) {
      document.getElementById('create-form-button').style.display = 'none';
      document.getElementById('create-form-spinner').style.display = 'block';
    });
  </script>
{% endblock %}
